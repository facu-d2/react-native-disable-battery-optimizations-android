// build.gradle for react-native-disable-battery-optimizations-android

buildscript {
    repositories {
        google()
        mavenCentral()
    }
    dependencies {
        // Usa una versión moderna del Android Gradle Plugin
        classpath 'com.android.tools.build:gradle:8.2.1'
    }
}

apply plugin: 'com.android.library'

// Esta función lee las propiedades de versión desde la configuración de React Native,
// asegurando que la librería use las mismas versiones que tu app principal.
def getExtOrIntegerDefault(name) {
    return rootProject.ext.has(name) ? rootProject.ext.get(name) : 1
}

android {
    namespace "com.reactlibrary" // El namespace que ya tenías
    compileSdkVersion getExtOrIntegerDefault('compileSdkVersion')

    defaultConfig {
        minSdkVersion getExtOrIntegerDefault('minSdkVersion')
        targetSdkVersion getExtOrIntegerDefault('targetSdkVersion')
    }

    buildTypes {
        release {
            minifyEnabled false
        }
    }

    lint {
        abortOnError false
    }
}

dependencies {
    // Dependencia fundamental para cualquier módulo nativo de React Native
    implementation "com.facebook.react:react-native:+"
}
